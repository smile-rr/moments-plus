---
import BlogPostView from '../../components/views/BlogPostView.astro';
import { DEFAULT_LOCALE } from '../../i18n';
import { getBlogPosts } from '../../utils/blog';

export async function getStaticPaths() {
  const posts = await getBlogPosts(DEFAULT_LOCALE);
  return posts.map(post => ({
    params: { slug: post.id.split('/')[1].replace(/\.md$/, '') },
    props: { post },
  }));
}

const { post } = Astro.props;
---

<BlogPostView post={post} lang={DEFAULT_LOCALE} />
