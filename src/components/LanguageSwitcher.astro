---
import type { Locale } from '../i18n';
import { getLocalizedPath, DEFAULT_LOCALE } from '../i18n';

interface Props {
  currentLang: Locale;
  currentPath: string;
}

const { currentLang, currentPath } = Astro.props;

// 只支持英文和中文
const languages = [
  { code: 'en' as Locale, label: 'EN' },
  { code: 'zh' as Locale, label: '中文' },
];

// 从当前路径中移除语言前缀，获取页面路径
let pathWithoutLang = currentPath;
if (currentPath.startsWith('/zh')) {
  pathWithoutLang = currentPath.replace('/zh', '') || '/';
}

// 获取另一个语言
const otherLang = currentLang === 'en' ? 'zh' : 'en';
const otherLabel = currentLang === 'en' ? '中文' : 'EN';
---

<a 
  href={getLocalizedPath(otherLang, pathWithoutLang)}
  class="text-sm hover:opacity-70 transition-opacity"
  style="color: #86868b;"
  hreflang={otherLang}
>
  {otherLabel}
</a>
